<!doctypehtml><html lang=en><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><title>Cub3D - Web Version</title><style>body{margin:0;padding:20px;font-family:Arial,sans-serif;background:#1a1a1a;color:#fff;display:flex;flex-direction:column;align-items:center}.container{display:flex;flex-direction:column;align-items:center;gap:20px}.file-input-container{background:#2a2a2a;padding:20px;border-radius:8px;margin-bottom:20px}.file-input-container label{display:block;margin-bottom:10px;font-size:16px}.file-input-container input[type=file]{padding:8px;background:#3a3a3a;color:#fff;border:1px solid #555;border-radius:4px;cursor:pointer}.file-input-container button{margin-top:10px;padding:10px 20px;background:#4a9eff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px}.file-input-container button:hover{background:#3a8eef}.file-input-container button:disabled{background:#555;cursor:not-allowed}.status{margin-top:10px;padding:10px;border-radius:4px;display:none}.status.error{background:#f44;display:block}.status.success{background:#4f4;color:#000;display:block}.canvas-container{border:2px solid #555;border-radius:8px;overflow:hidden;background:#000}#canvas{display:block;width:100%;height:auto}.controls{background:#2a2a2a;padding:15px;border-radius:8px;max-width:600px}.controls h3{margin-top:0}.controls ul{list-style:none;padding:0}.controls li{padding:5px 0}</style></head><body><div class=container><h1>Cub3D - Web Version</h1><div class=file-input-container><label for=mapFile>Select a .cub map file:</label> <input accept=.cub id=mapFile type=file> <button disabled id=loadButton onclick=loadMapFile()>Load Map</button><div class=status id=status></div></div><div class=canvas-container><canvas id=canvas oncontextmenu=event.preventDefault()></canvas></div><div class=controls><h3>Controls:</h3><ul><li><strong>W/A/S/D</strong> - Move</li><li><strong>Left/Right Arrow</strong> - Rotate</li><li><strong>Mouse</strong> - Look around</li><li><strong>TAB</strong> - Pause</li><li><strong>ESC</strong> - Exit</li></ul></div></div><script>var Module={canvas:function(){var e=document.getElementById("canvas");return e.width=1280,e.height=720,e}(),print:function(e){console.log(e)},printErr:function(e){console.error(e)},onRuntimeInitialized:function(){console.log("Emscripten runtime initialized"),document.getElementById("loadButton").disabled=!1,setTimeout((function(){try{if(Module.FS.analyzePath("/maps/subject_map.cub").exists){console.log("Default map found, starting game...");var e=document.querySelector(".file-input-container"),t=document.querySelector(".controls");e&&(e.style.display="none"),t&&(t.style.display="none");var a=document.querySelector(".canvas-container");a&&(a.style.display="block"),Module.ccall("run_game",null,["string"],["/maps/subject_map.cub"])}}catch(e){console.log("Default map not available, waiting for user to load map")}}),500)}},fileInput=document.getElementById("mapFile"),loadButton=document.getElementById("loadButton"),statusDiv=document.getElementById("status");function showStatus(e,t){statusDiv.textContent=e,statusDiv.className="status "+(t?"error":"success"),setTimeout((function(){statusDiv.style.display="none"}),3e3)}function loadMapFile(){var e=fileInput.files[0];if(e)if(e.name.endsWith(".cub")){var t=new FileReader;t.onload=function(t){try{var a=new Uint8Array(t.target.result),n="/maps/"+e.name;Module.FS.analyzePath("/maps").exists||Module.FS.mkdir("/maps"),Module.FS.writeFile(n,a),showStatus("Map loaded successfully! Starting game...",!1),setTimeout((function(){if(Module.ccall&&"function"==typeof Module.ccall)try{Module.ccall("run_game",null,["string"],[n]),showStatus("Game started!",!1)}catch(e){showStatus("Error starting game: "+e.message,!0),console.error(e)}else showStatus("Game not ready yet. Please wait...",!0)}),100)}catch(e){showStatus("Error loading file: "+e.message,!0),console.error(e)}},t.onerror=function(){showStatus("Error reading file",!0)},t.readAsArrayBuffer(e)}else showStatus("Please select a .cub file",!0);else showStatus("Please select a .cub file",!0)}fileInput.addEventListener("change",(function(){fileInput.files.length>0&&(loadButton.disabled=!1)}))</script><script async src=cub3D.js></script></body></html>